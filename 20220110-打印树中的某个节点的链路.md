# 20220110-打印树中的某个节点的链路.md

2022.01.10，失业第 17 天，天气晴。情绪稳定，下午 5 点收到裁员大礼包，符合预期。
问题：打印树中的某个节点的链路，以数组的形式输出，节点格式如下：

```JavaScript
node = {
  id: 123,
  children: []
}
```

失业期间第一场面试遇到此题，15 分钟，没写对，惭愧，自责，实在是生疏了。面试结束后重新想了下，5 分钟就写完了。

```JavaScript
function bfs(node, id) {
  if (node.id == id) {
    return [id]
  } else {
    if (Array.isArray(node.children)) {
      for (let i = 0; i < node.children.length; i++) {
        const result = bfs(node.children[i], id) 
        if (result) {
          result.unshift(node.id)
          return result;
        }
      }
    }
  }
  return null
}
```

测试代码如下：

```JavaScript
const node = {
  id: 1,
  children: [{
    id: 10,
    children:[{
      id: 100,
      children: null
    }]
  },{
    id: 11,
    children:[{
      id: 110,
      children: [{
        id: 1101,
        children: null
      },{
        id: 1102,
        children: null
      }]
    }]
  }, {
    id: 12,
    children:[{
      id: 120,
      children: null
    }]
  }]
}

console.log(bfs(node, 11))
```

平时在业务开发中，养成了习惯，看到了数组，就想到 forEach/find/reduce 方法，面试过程中一直在想在怎么用上这些方法。就本题而言，想用也是可以用的，就是麻烦些，代码如下：

```JavaScript
function bfs(node, id) {
  let result = []
  if (node.id == id) {
    result.push(id)
  } else {
    if (Array.isArray(node.children)) {
      node.children.some(cur => {
        const linkList = bfs(cur, id)
        if (linkList) {
          result.push(node.id, ...linkList)
          return true
        }
      })
    }
  }
  return result.length ? result : null
}
```

















