# 20220212-Vue 响应式更新的原理

我写过几十篇源码分析类的文章，但从来没有写过和 Vue 有关的文章，原因是 Vue 源码分析的文章，实在是太多了。也从来没有专门花时间去看 Vue 源码，原因是当我使用 Vue 遇到问题的时候，百度都能解决。本科的时候用过 VB，读研的时候用过 Delphi，VB 和 Delphi 是上个世纪的开发工具，很多人都用过，在 VB 和 Delphi 中，响应式更新是一个非常普通非常自然的特性，就像空气和水一样。后来做了前端，响应式更新竟然是一个非常热门的讨论方向。Delphi 1.0 是 1995 年，现在是 2022 年，我觉得 2022 年的前端开发体验，比不上 1995 年的 Delphi。革命尚未成功，同志仍需努力。为了找工作，为了吃饭，我正式开启我的 Vue 源码之旅。

## 问题

给你一个包含 n 个整数的数组 nums，判断 nums 中是否存在三个元素 a，b，c，使得 a + b + c = 0。请你找出所有和为 0 且不重复的三元组。

注意：答案中不可以包含重复的三元组。

示例 1：

输入：nums = [-1,0,1,2,-1,-4]

输出：[[-1,-1,2],[-1,0,1]]

示例 2：

输入：nums = []

输出：[]

示例 3：

输入：nums = [0]

输出：[]

链接：https://leetcode-cn.com/problems/3sum

## 答案

先排序，固定一个数，双指针找到另外两个数，使三数之和为 0。

while(nums[left] == nums[++left]);好像是我职业生涯第一次写出没有循环体的 while 循环，感觉还不错。

```JavaScript
var threeSum = function(nums) {
    nums = nums.sort((a, b) => a - b)
    let result = []
    for (let i = 0; i < nums.length; i++) {
        if (nums[i] > 0) {
            break
        }
        // 答案去重 1，如 [-1, -1, -1, -1, 0, 1]
        if (i > 0 && nums[i] == nums[i - 1]) {
            continue
        }
        let left = i + 1
        let right = nums.length - 1
        while(left < right) {
            if (nums[left] + nums[right] + nums[i] > 0) {
                right--
            } else if (nums[left] + nums[right] + nums[i] < 0) {
                left++
            } else {
                result.push([nums[i], nums[left], nums[right]])
                // 答案去重 2，如 [-2, 0, 0, 2, 2]
                while(nums[left] == nums[++left]);
                while(nums[right] == nums[--right]);
            }
        }
    }
    return result
};
```


