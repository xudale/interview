# 20220128-恢复纸牌顺序

## 问题

我手中有一堆扑克牌，但是不知道它的顺序。

第一步，我从牌顶拿出一张牌， 放到桌子上。

第二步，我从牌顶再拿一张牌， 放在手上牌的底部。

第三步，重复第二步

最后，看到桌子上牌的顺序是：(牌底)1、2、3、4、5、6、7、8、9、10、11、12、13(牌顶)

求原来纸牌顺序，牌底是数组 0。

先定义节点。 

```JavaScript
class Node {
	constructor(val = -1, next = null) {
		this.val = val
		this.next = next
	}
}
```

逆向法，将桌子上的牌，逆向放回去，这是最容易想到的办法。

```JavaScript
function restorePoker(array) {
	let count = array.length
	const dummyHead = new Node()
	let linkListSize = 0
	let cur = dummyHead
	while(count--) {
		const end = cur.next = new Node(array[count])
		linkListSize++
		let flipTimes = 2
		while(flipTimes--) {
			if (linkListSize > 2) {
				const temp = dummyHead.next
				dummyHead.next = dummyHead.next.next
				cur.next = temp
				temp.next = end
				cur = temp
			}
		}
		cur = end
	}
	cur = dummyHead.next
	let result = []
	while(cur) {
		result.push(cur.val)
		cur = cur.next
	}
	return result
}

console.log(restorePoker([1,2,3,4,5,6,7,8,9,10,11,12,13]))
// [5, 11, 13, 4, 7, 9, 3, 12, 6, 2, 10, 8, 1]
```

正向法，还原整个过程。

```JavaScript
function restorePoker(array) {
	let count = array.length
	const dummyHead = new Node()
	let linkListSize = 0
	let cur = dummyHead
	while(count--) {
		const end = cur.next = new Node(array[count])
		linkListSize++
		let flipTimes = 2
		while(flipTimes--) {
			if (linkListSize > 2) {
				const temp = dummyHead.next
				dummyHead.next = dummyHead.next.next
				cur.next = temp
				temp.next = end
				cur = temp
			}
		}
		cur = end
	}
	cur = dummyHead.next
	let result = []
	while(cur) {
		result.push(cur.val)
		cur = cur.next
	}
	return result
}

console.log(restorePoker([1,2,3,4,5,6,7,8,9,10,11,12,13]))
// [5, 11, 13, 4, 7, 9, 3, 12, 6, 2, 10, 8, 1]
```



