20220119-实现push

# 20220119-实现push

面试竟然问这个，出乎我的意料，实际工作中，我从来没有遇到过需要自己手动实现 push 的场景吗。

```JavaScript
Array.prototype.push = function(...args) {
	const array = this
	const len = array.length
	// 这地直接用 array.concat(args) 算不算玩赖
	for (let i = 0; i < args.length; i++) {
		array[len + i] = args[i]
	}
	// 返回数组长度，我忘了
	// push 的返回值，我从来没用过
	// 多少次，我希望 push 能返回原数组
	// 这样就可以链式调用了
	return array.length = len + args.length
}
```

面试过程中面试官问 array.length = len + args.length 这句有无必要。

如果是数组，那这句没有必要。

```JavaScript
a = [2]
a[8] = 3
a.length // 9 长度自动改变
```

如果是类数组，那就很有必要。

假如现实中，真的遇到需要手动实现 push 的情况，重新计算数组长度 array.length = len + args.length 还有有必要的。如果一个浏览器不支持 push，一定不是什么正经浏览器，该写的都写写吧。






























